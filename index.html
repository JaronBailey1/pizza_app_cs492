<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>P'zzazz Pizza</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="./assets/logo.svg" />
  <link rel="stylesheet" href="./styles.css" />
  <script defer src="./index.js"></script>

  <style>
    /* Inline CSS for layout tweaks (can move to styles.css if preferred) */
    .drawer-footer .actions {
      margin-top: 1rem; /* adds space between address and buttons */
    }

    /* Basic example styles for drawer layout */
    .drawer {
      position: fixed;
      right: 0;
      top: 0;
      width: 320px;
      height: 100%;
      background: #fff;
      box-shadow: -2px 0 8px rgba(0,0,0,0.2);
      display: flex;
      flex-direction: column;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 1000;
      padding: 1rem;
    }

    .drawer.open {
      transform: translateX(0);
    }

    .drawer-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .drawer-footer {
      margin-top: auto;
    }

    .checkout-form label {
      display: block;
      margin-bottom: 0.5rem;
    }

    .checkout-form input {
      width: 100%;
      padding: 0.4rem;
      margin-top: 0.2rem;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .actions button {
      width: 100%;
      padding: 0.6rem;
      margin-top: 0.4rem;
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <img src="./assets/logo.svg" alt="P'zzazz Pizza logo" class="logo"/>
      <div class="brand-text">
        <strong>P'zzazz Pizza</strong>
      </div>
    </div>
    <nav class="nav">
      <a href="./index.html" class="active">Home</a>
      <a href="./admin.html">Admin</a>
      <a href="./payment.html">Cart (<span id="cartCount">0</span>)</a>
    </nav>
  </header>

  <main class="container">
    <section class="search-bar">
      <input type="text" id="searchInput" placeholder="Search menu items..." />
    </section>

    <section id="menuCategories"></section>

    <div id="cartPopup" class="cart-popup hidden">
      <h3>Your Cart</h3>
      <div id="cartItems"></div>
      <div class="inline">
        <div>Subtotal: <strong id="cartSub">$0.00</strong></div>
        <div>Tax: <strong id="cartTax">$0.00</strong></div>
        <div>Total: <strong id="cartTotal">$0.00</strong></div>
      </div>
      <button id="checkoutBtn" class="primary">Checkout</button>
      <button id="closeCartBtn" class="ghost">Close</button>
    </div>
  </main>

  <!-- Cart Drawer -->
  <aside id="cartDrawer" class="drawer" aria-hidden="true" aria-label="Shopping cart">
    <header class="drawer-header">
      <strong>Your Cart</strong>
      <button id="closeCart" aria-label="Close cart">✕</button>
    </header>
    <div id="cartItemsDrawer" class="cart-items"></div>
    <footer class="drawer-footer">
      <div class="totals">
        <div>Subtotal: <strong id="subTotal">$0.00</strong></div>
        <div>Tax: <strong id="taxTotal">$0.00</strong></div>
        <div><strong>Total: <span id="grandTotal">$0.00</span></strong></div>
      </div>
      <div class="checkout-form">
        <label>Name: <input id="custName" placeholder="Your name" /></label>
        <label>Phone: <input id="custPhone" placeholder="Phone number" /></label>
        <label>Address: <input id="custAddress" placeholder="Delivery address" /></label>
      </div>
      <div class="actions">
        <button id="checkoutDrawerBtn" class="primary">Checkout</button>
        <button id="clearCart" class="secondary">Clear Cart</button>
      </div>
    </footer>
  </aside>

  <footer class="site-footer">
    <small>© <span id="year"></span> P'zzazz Pizza</small>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
